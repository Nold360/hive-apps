image:
  repository: deluan/navidrome
  tag: 0.43.0

ingress:
  main:
    enabled: true
    annotations:
      cert-manager.io/cluster-issuer: vault-issuer
      traefik.ingress.kubernetes.io/router.tls: 'true'
    hosts:
    - host: music.dc
      paths:
      - path: /
        pathType: Prefix
    tls:
    - secretName: music-tls
      hosts:
      - music.dc
env:
  # -- Set the container timezone
  TZ: UTC
  # -- Log level. Useful for troubleshooting.
  ND_LOGLEVEL: info
  # -- How long Navidrome will wait before closing web ui idle sessions
  ND_SESSIONTIMEOUT: 24h
  # -- Enables transcoding configuration in the UI
  ND_ENABLETRANSCODINGCONFIG: "true"
  # -- Folder where your music library is stored.
  ND_MUSICFOLDER: /music

  ND_SCANSCHEDULE: "0"
  ND_LASTFM_ENABLED: "false"
  ND_ENABLEEXTERNALSERVICES: "false"
  ND_LISTENBRAINZ_ENABLED: "false"

securityContext:
  privileged: false

podSecurityContext:
  runAsUser: 1000
  runAsGroup: 1000
  fsGroup: 1000

persistence:
  config:
    enabled: true
    mountPath: /data
    storageClass: local-path
    accessMode: ReadWriteOnce
    size: 1Gi
  music:
    enabled: true
    type: hostPath
    mountPath: /music
    hostPath: /data/media/music
