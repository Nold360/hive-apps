controllers:
  main:
    containers:
      main:
        image:
          repository: docker.io/smartgic/ovos-tts-server-piper
          tag: alpha
          pullPolicy: Always

        env:
          # GID='1000'

ingress:
  main:
    annotations:
      cert-manager.io/cluster-issuer: vault-issuer
    enabled: true
    hosts:
    - host: ovos-tts-server.dc
      paths:
      - path: /
        service:
          name: main
          port: http
    tls:
    - hosts:
      - ovos-tts-server.dc
      secretName: ovos-tts-server-tls

configMaps:
  config:
    enabled: true
    data:
      mycroft.conf: | 
        {
          "tts": {
            "module": "ovos-tts-plugin-piper",
            "ovos-tts-plugin-piper": {
              "model": "alan-low"
            }
          }
        }

persistence:
  data:
    type: persistentVolumeClaim
    enabled: true
    size: 2Gi
    storageClass: ssd
    accessMode: ReadWriteOnce
    globalMounts:
      - path: /home/ovos/.local/share/piper_tts

  config:
    type: configMap
    enabled: true
    name: ovos-tts-server-config
    advancedMounts:
      main: 
        main: 
          - path: /home/ovos/.config/mycroft/mycroft.conf
            readOnly: true
            subPath: mycroft.conf


securityContext:
  privileged: false

service:
  main:
    ports:
      http:
        enabled: true
        port: 9666
    type: ClusterIP
