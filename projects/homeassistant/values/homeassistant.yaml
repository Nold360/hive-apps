image:
  repository: homeassistant/home-assistant
  tag: 2023.7.2

env:
  TZ: Europe/Berlin

influxdb:
  enabled: false
  auth:
    createUserToken: true
    user:
      username: homeassistant
      org: primary
      bucket: primary
    readUser:
      username: grafana
    writeUser:
      username: homeassistant
    existingSecret: influx
  database: home_assistant
  persistence:
    enabled: true
    size: 8Gi

ingress:
  main:
    annotations:
      cert-manager.io/cluster-issuer: vault-issuer
      nginx.ingress.kubernetes.io/enable-cors: "false"
    enabled: true
    hosts:
    - host: hass.dc
      paths:
      - path: /
        pathType: Prefix
    tls:
    - hosts:
      - hass.dc
      secretName: hass-tls

metrics:
  enabled: false
  prometheusRule:
    enabled: false
    labels: {}
    rules: []
  serviceMonitor:
    interval: 1m
    labels: {}
    scrapeTimeout: 30s

persistence:
  config:
    enabled: true
  data:
    enabled: true
    storageClass: local-path
    accessMode: ReadWriteOnce
    size: 1Gi
  media:
    enabled: true
    type: hostPath
    mountPath: /media
    hostPath: /data/media
    readOnly: true

postgresql:
  enabled: false

securityContext:
  privileged: false

service:
  main:
    ports:
      http:
        port: 8123
